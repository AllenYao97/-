3.网络核心
    路由器的网状网络
    3.1基本问题：怎样实现数据交换（数据怎样通过网络进行传输）
        电路交换(线路交换): 为每个呼叫预留一条专有电路，如电话网
            端到端的资源被分配给源端到目标端的呼叫call===》要求建立呼叫连接
            通过信令系统，为两者之间的通信分配独享的线路（节点与节点之间挑出空闲的一段段pieces，一段段拼成线路）
            独享有性能的保障====》资源浪费的缺点

            电路交换不适合计算机之间通信：
                建立时间长
                计算机连接通信有突发性（时有时无），如果使用线路交换，浪费片较多：这个呼叫没有数据传输，其所专用的片也不能被别的呼叫使用
                可靠性不高？    核心节点损毁，影响范围很广 

            网络资源如何被分成片：   
                带宽：
                    频分：可用通信频率覆盖范围====》多路复用切片  FDM
                    时分：通信能力分为一个个周期 T   ====》 划分时间片  TDM
                    波分: 光通信    可用波段=====》划分波段  WDM
                
            传播延迟在局域网可以忽略，在广域网不能忽略 

        分组交换: 互联网和几乎所有的网络都采用分组交换          按需使用
            将要传输的数据分成一个个小单位==》分组
            将分组从一个路由器传到相邻路由器（hop），一段段最终从源端传到目标端    存储---》转发
            每段：采用链路的最大传输能力（带宽） 

            以分组为单位存储-转发方式
            网络带宽资源不再分为一个个片，传输时使用全部带宽
            主机间传输的数据被分为一个个分组   packet
            以分组为单位在每一个节点存储-转发一直到目标节点

            为什么要存储-转发 而不是 直接 连到最后？ ====》 不独享

            分组交换在每个节点比线路交换多消耗存储时间以及因为共享线路带来的排队时间，但是换来了共享性
            排队与延迟：
                如果到达速率>链路输出速率：
                    分组将会排队，等待传输
                    如果路由器缓存用完了，分组将会被抛弃
    3.2网络核心的关键功能 （指分组交换）
        路由： 全局
            决定分组采用的源到目标的路径
                路由算法
        转发： 局部
            将分组从路由器的输入链路转移到输出链路

    3.3分组交换：统计多路复用
        A&B 时分复用 链路资源
        A & B 分组没有固定的模式====》统计多路复用   与 电路交换的TDM不用

    3.4分组交换与电路交换的支持人数
        假设带宽1Mbps， 每个人需要100kbps
        
        电路交换 1Mbps/100kbps =10
        分组交换  假设有35个用户
                  C(35,n)*p^n*(1-p)^n    n=0，9 求和           
                  1-sum    即大于等于10个用户活动的概率
                  不能时10， 流量强度  满了就直接挂掉了
                  1-sum的概率就用排队去解决
        
        分组交换时突发数据的胜利者
            适用于对突发式数据传输
                资源共享
                简单，不必建立呼叫
            过度使用会造成网络拥塞：分组延时和丢失
                对可靠的数据传输需要协议来约束：拥塞控制
            怎样提供类似电路交换的服务：   流媒体客户端服务器（机顶盒）
                保证音频/视频应用需要的带宽
                一个仍未解决的问题 （第七章）
            
    3.5分组交换网络：存储-转发
        分组交换按照有无网络层的连接：
            数据报网络： 两端不需要建立连接   类似：寄信
                通信之前，无需建立起连接，有数据就传输
                每个分组都携带目标地址（完整地址），目标地址决定下一跳（存储-转发）===》路由器根据分组的目标地址进行路由
                在不同的阶段，路由可以改变（路径不同可能会失序）
                Internet
            虚电路网络： 两端需要握手 
                每个分组都带标签（虚电路标识），标签决定下一跳（存储-转发）        靠信令建立虚电路
                在呼叫建立决定路径，在整个呼叫中路径保持不变
                路由器维持每个呼叫的状态信息
                X.25 ATM
        
                 
        

    总结：
        通信网络：
            电路交换网络：
                FDM
                TDM
                WDM
            分组交换网络：
                虚电路    网络层的连接  还体现在所有节点之上     有连接
                数据报

        
        




    

