6. 分组延时、丢失和吞吐量:
  6.1分组丢失和延时是怎样发生的：

    在路由器缓冲区的分组队列：
      分组到达链路的速率超过了链路的输出的能力
      分组等待排到队头、被传输  即分组排队  ======>队列长度溢出（没有可用的缓冲区），分组就会被丢弃   即，分组丢失

      分组延时：
        1.节点预处理：  nodal processing  一般这个时间是可以确定的
          检查bit级差错
          检查分组首部和决定将分组导向何处（查路由表）   
        2.排队延时：
          在输出链路上等待传输的时间
          依赖于路由器的拥塞程度（时间是随机的）
        3.传输延时：
          R=链路带宽（bps）
          L=分组长度（bits）
          将分组发送到链路上的时间=L/R
          存储转发延时
        4.传播延时：
          d=物理链路长度
          s=媒体上传播速度（~2*10^8m/s）  光速打折
          传播延时=d/s
        
      分组由一个节点到另一个节点的过程(4个时间)叫   hop （段 跳）  1跳

      节点延时：d（nodal）=d（proc）      处理延时    通常是微秒数量级或者更少
                          +d（queue）    排队延时   取决于拥塞程度
                          +d（trans）    传输延时   =L/R，对低速率的链路而言很大（拨号）,通常微妙级到毫秒级
                          +d（drop）     传播延时   取决于距离  几微妙到几百毫秒

  
  6.2 排队延时

    R=链路带宽 bps
    L=分组长度 bits
    a=分组到达队列的平均速率
    流量强度I=La/R

    I~0 平均排队延时很小
    I->1 延时变的很大
    I>1 比特到达队列的速率超过该队列输出的速率，平均排队延时将趋于无穷大

    设计系统时流量强度不能大于1

  6.3 分组丢失：

    链路的队列缓冲区容量有限
    当分组到达一个满的队列时，该分组将会丢失         （或者TTL 报文生存时间 为0）
    丢失的分组可能会被前一个节点或者源端系统重传（TCP），或根本不重传（UDP）

  
  6.4 吞吐量：

    在源端和目标端之间传输的速率（数据量/单位时间）  得是有效的
      瞬间吞吐量：在一个时间点的速率
      平均吞吐量：在一个长时间内的平均值
    瓶颈链路：
      端到端路径上，限制端到端吞吐的链路
    
    A->X1->X2->X3->X4>.......Xi->....->B
    假设第i跳有Ni对端到端在使用  如（A1B1,A2B2,A3B3......）链路上的每一段的实际带宽是Ri/Ni
    A->B 端到端的吞吐量为 min（Ri/Ni）
